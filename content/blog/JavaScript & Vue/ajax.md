# 1. Ajax?

**ë¹„ë™ê¸°ì‹ ìžë°”ìŠ¤í¬ë¦½íŠ¸ì™€ XML (Asynchronous JavaScript and XML)**

ìžë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ì„œ `ì„œë²„`ì™€ `ë¸Œë¼ìš°ì €`ê°€ `ë¹„ë™ê¸° ë°©ì‹`ìœ¼ë¡œ ë°ì´í„°ë¥¼ êµí™˜í•  ìˆ˜ ìžˆëŠ” ê¸°ë²•

~~(ê·¸ëŸ¬ë‚˜ í˜„ìž¬ ë°ì´í„° ì „ì†¡ì€ ëŒ€ë¶€ë¶„ xmlì´ ì•„ë‹ˆë¼ jsonì„ ì´ìš©í•˜ëŠ”ê±´ í•¨ì •)~~

ðŸ’¡ ë¹„ë™ê¸° ë°©ì‹?

- ì›¹ íŽ˜ì´ì§€ ì „ì²´ë¥¼ ë‹¤ì‹œ ë¡œë”©í•˜ì§€ ì•Šê³  ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë°©ì‹

- ì›¹ íŽ˜ì´ì§€ê°€ ë¡œë“œëœ í›„ì— ì„œë²„ë¡œ requestë¥¼ ë³´ë‚¼ ìˆ˜ ìžˆê³ , responseë¥¼ ë°›ì„ ìˆ˜ ìžˆë‹¤.

  

## 1) XMLHttpRequest

**ìžë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë¹„ë™ê¸° í†µì‹  API**

ì „ì²´ íŽ˜ì´ì§€ì˜ ìƒˆë¡œê³ ì¹¨ ì—†ì´ë„ URLë¡œë¶€í„° ë°ì´í„°ë¥¼ ë°›ì•„ì˜¬ ìˆ˜ ìžˆëŠ” ê°ì²´. (XMLë¿ ì•„ë‹ˆë¼ ëª¨ë“  ì¢…ë¥˜ì˜ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¬ ìˆ˜ ìžˆìŒ)

âœ… XMLHttpRequestì˜ ì†ì„±ë“¤

- `readyState` : ìš”ì²­ì˜ ìƒíƒœë¥¼ ì²´í¬ ê°€ëŠ¥í•œ ì†ì„±

  - 0 (UNSENT) : XMLHttpRequest ê°ì²´ê°€ ìƒì„±ë¨

  - 1 (OPENED) : open() ë©”ì†Œë“œê°€ ì„±ê³µì ìœ¼ë¡œ ì‹¤í–‰ë¨
  - 2 (HEADERS_RECEIVED) : ëª¨ë“  ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µì´ ë„ì°©í•¨
  - 3 (LOADING) : ìš”ì²­í•œ ë°ì´í„°ë¥¼ ì²˜ë¦¬ ì¤‘ìž„
  - 4 (DONE) : ìš”ì²­í•œ ë°ì´í„°ì˜ ì²˜ë¦¬ê°€ ì™„ë£Œë˜ì–´ ì‘ë‹µí•  ì¤€ë¹„ ì™„ë£Œ

- `status`: ìš”ì²­ì˜ ì‘ë‹µ ìƒíƒœë¥¼ ë‚˜íƒ€ëƒ„

  - 200 : ì‘ë‹µ ì„±ê³µ
  - 404 : ì„œë²„ì— ë¬¸ì„œê°€ ì¡´ìž¬í•˜ì§€ ì•ŠìŒ
  - 405

- `responseText` & `responseXML` : ì„œë²„ì—ì„œ ë°ì´í„°ê°€ ì‘ë‹µë  ë•Œ í•´ë‹¹ ë°ì´í„°ë¥¼ ëŒ€ìž…ë°›ëŠ” ì†ì„±

  

```javascript
function loadDoc() {     
    // ajax ìš”ì²­ ê°ì²´ ìƒì„±
    const xhttp = new XMLHttpRequest();  

    // ìš”ì²­~ì‘ë‹µê¹Œì§€ì˜ ê²€ì¦ ë° ì‘ë‹µ ë°ì´í„° ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ì‚¬ì „ ì„¤ì •
    xhttp.onreadystatechange = function() { // onreadystatechange ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì„¤ì •
        if (this.readyState == 4 && this.status == 200) {  // ì‘ë‹µ ì™„ë£Œ && ì •ìƒì‘ë‹µì´ë©´
            document.getElementById("div1").innerHTML = this.responseText; // ìš”ì²­í•œ ë°ì´í„°ë¥¼ ë¬¸ìžì—´ë¡œ ë°˜í™˜
        }
    };
    xhttp.open("GET", "ajaxRes.jsp");   // ìš”ì²­ë°©ë²• ë° ìš”ì²­í•  ì£¼ì†Œ ì„¤ì •
    xhttp.send();  // ìš”ì²­ ì „ì†¡ -> ì‹¤ì œ ìš”ì²­ ìˆ˜í–‰
}
```

