---
title: '[ë°±ì¤€] 1707 - ì´ë¶„ê·¸ë˜í”„ (íŒŒì´ì¬)'
date: 2021-10-27 14:08:79
category: 'Algorithm'
thumbnail: { thumbnailSrc }
draft: false
---

# ë¬¸ì œ

[ë¬¸ì œ ë§í¬](https://www.acmicpc.net/problem/1707)



## ğŸ’ ì´ë¶„ê·¸ë˜í”„ë€?

ì´ë¶„ê·¸ë˜í”„(Bipartite Graph)ë€, ì¸ì ‘í•œ ë…¸ë“œë¥¼ ì„œë¡œ ë‹¤ë¥¸ ìƒ‰ìœ¼ë¡œ ì¹ í•´ì„œ ëª¨ë“  ë…¸ë“œë¥¼ ë‘ ê°€ì§€ ìƒ‰ìœ¼ë¡œë§Œ ì¹ í•  ìˆ˜ ìˆëŠ” ê·¸ë˜í”„ì´ë‹¤.

ì¦‰, ê·¸ë˜í”„ì˜ ëª¨ë“  ë…¸ë“œë“¤ì´ **ë‘ ê·¸ë£¹**ìœ¼ë¡œ ë‚˜ëˆ ì§€ê³ , **ê°™ì€ ê·¸ë£¹ì— ì†í•œ ë…¸ë“œë¼ë¦¬ëŠ” ì„œë¡œ ì¸ì ‘í•˜ì§€ ì•ŠëŠ” ê·¸ë˜í”„**ì´ë‹¤.

  

![img](https://gmlwjd9405.github.io/images/data-structure-graph/bipartite-graph1.gif)





[ì´ë¯¸ì§€ ì¶œì²˜] https://gmlwjd9405.github.io/2018/08/23/algorithm-bipartite-graph.html

<br>

`BFS ì•Œê³ ë¦¬ì¦˜`ì„ ì‚¬ìš©í•˜ë©´ ê°™ì€ ë ˆë²¨ì˜ ë…¸ë“œë¥¼ ëª¨ë‘ íƒìƒ‰í•œ í›„ ë‹¤ìŒ ë ˆë²¨ì˜ ë…¸ë“œ íƒìƒ‰ì„ ì‹œì‘í•˜ê²Œ ëœë‹¤.

ì´ë¶„ê·¸ë˜í”„ë¼ë©´ ì¸ì ‘ ë…¸ë“œëŠ” ì„œë¡œ ë‹¤ë¥¸ ê·¸ë£¹ì— ì†í•´ì•¼ í•œë‹¤.  

ë”°ë¼ì„œ **ë‹¤ìŒ ë ˆë²¨ì˜ ë…¸ë“œë¥¼ íƒìƒ‰í•  ë•Œ í˜„ ë…¸ë“œì™€ ë‹¤ë¥¸ ê·¸ë£¹ìœ¼ë¡œ ë„£ì–´ì£¼ê³ , ë§Œì•½ íƒìƒ‰í•˜ë ¤ëŠ” ë‹¤ìŒ ë ˆë²¨ì˜ ë…¸ë“œê°€ ì´ë¯¸ í˜„ ë…¸ë“œì™€ ê°™ì€ ê·¸ë£¹ì— ìˆë‹¤ë©´ ì´ë¶„ê·¸ë˜í”„ê°€ ì•„ë‹Œ ê²ƒìœ¼ë¡œ íŒë‹¨**í•˜ë©´ ë˜ê² ë‹¤ê³  ìƒê°í–ˆë‹¤.

ì²˜ìŒì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ì§°ë‹¤.

âš¡ (ì°¸ê³ ë¡œ ì„œë¡œ ë‹¤ë¥¸ ë‘ ê·¸ë£¹ì„ í‘œí˜„í•  ë•Œ `1`, `-1` ì´ëŸ°ì‹ìœ¼ë¡œ í‘œí˜„í•´ì£¼ë©´ í¸í•˜ë‹¤ëŠ” ìƒê°ì„ ì²˜ìŒì— ëª»í•´ì„œ group1, group2 ë¦¬ìŠ¤íŠ¸ë¥¼ ë‘ê°œ ë§Œë“¤ì–´ì„œ ë„£ì—ˆë‹¤ ëºë‹¤ í–ˆëŠ”ë° ì´ëŸ¬ë©´ ì‹œê°„ì´ˆê³¼ ë‚œë‹¤ ^^..  )

```python
import sys
from collections import deque

def bipartite(graph, group):     
    deq = deque([1]) 
    group[1] = 1  
    
    while deq:
        now = deq.popleft()        
        for next in graph[now]:            
            if group[next] == 0:  # ë°©ë¬¸í•˜ì§€ ì•Šì€ ë…¸ë“œì¸ ê²½ìš°
                group[next] = -group[now]  # nowì™€ ë‹¤ë¥¸ ê·¸ë£¹ìœ¼ë¡œ í‘œì‹œí•´ì¤Œ
                deq.append(next)           
            else:  # ë°©ë¬¸í–ˆë˜ ë…¸ë“œì¸ ê²½ìš°
                if group[next] == group[now]:
                    return False  
            print(group)                  
    return True


K = int(input())
for _ in range(K):
    V, E = map(int, sys.stdin.readline().strip().split(" "))
    graph = [[] for _ in range(V+1)]
    group = [0]*(V+1)  # ë°©ë¬¸ ì—¬ë¶€ ë° ê·¸ë£¹ì„ í‘œì‹œí•  ë¦¬ìŠ¤íŠ¸ - 0ìœ¼ë¡œ ì´ˆê¸°í™”

    for _ in range(E):
        u, v = map(int, sys.stdin.readline().strip().split(" "))
        graph[u].append(v)
        graph[v].append(u)
    
    result = bipartite(graph, group)
    print("YES" if result==True else "NO")
```



ì´ëŸ¬ë©´ í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ëŠ” í†µê³¼í•˜ëŠ”ë° ì œì¶œí•´ë³´ë©´ ì‹¤íŒ¨í•œë‹¤.

ë„ì €íˆ ì´ìœ ë¥¼ ì•Œ ìˆ˜ê°€ ì—†ì–´ì„œ êµ¬ê¸€ë§í•œ ê²°ê³¼... ìƒê°ì§€ë„ ëª»í•œ ë°˜ë¡€ê°€ ìˆì—ˆë‹¤. ë°”ë¡œ `ì—°ê²°ë˜ì§€ ì•Šì€ ê·¸ë˜í”„`ì´ë‹¤.



### âœ… ë°˜ë¡€

1

5 4

1 2

3 4

4 5

5 3

<img src="img/bipartite.PNG">

ìœ„ ê·¸ë¦¼ê³¼ ê°™ì€ ì—°ê²°ë˜ì§€ ì•Šì€ ê·¸ë˜í”„ê°€ ìˆì„ ë•Œ ì •ë‹µì€ NO ì´ì§€ë§Œ, ì½”ë“œë¥¼ ì‹¤í–‰í•´ë³´ë©´ 1 2ë²ˆ ë…¸ë“œë§Œ íƒìƒ‰í•˜ê³  ì¢…ë£Œë¼ë²„ë¦¬ê¸° ë•Œë¬¸ì— YESê°€ ë‚˜ì˜¨ë‹¤.

**ì—°ê²°ë˜ì§€ ì•Šì€ ê·¸ë˜í”„ê°€ ì—¬ëŸ¬ê°œ ìˆì„ ê°€ëŠ¥ì„±ì„ ë‘ê³ , ë°˜ë³µë¬¸ìœ¼ë¡œ ëª¨ë“  ë…¸ë“œë“¤ì„ íƒìƒ‰í•˜ì—¬ ì•„ì§ ë°©ë¬¸ì—¬ë¶€ê°€ 0ìœ¼ë¡œ ë‚¨ì•„ìˆëŠ” ë…¸ë“œê°€ ìˆë‹¤ë©´ í•¨ìˆ˜ë¥¼ ë˜ ì‹¤í–‰í•´ì¤˜ì•¼ í•œë‹¤.**

<br>



# ìµœì¢… ì½”ë“œ

```python
import sys
from collections import deque

def bipartite(graph, group, start):     
    deq = deque([start]) 
    group[start] = 1
    
    while deq:
        now = deq.popleft()        
        for next in graph[now]:             
            if group[next] == 0:
                group[next] = -group[now]
                deq.append(next)           
            else:
                if group[next] == group[now]:
                    return False                           
    return True


K = int(input())
for _ in range(K):
    V, E = map(int, sys.stdin.readline().strip().split(" "))
    graph = [[] for _ in range(V+1)]
    group = [0]*(V+1)

    for _ in range(E):
        u, v = map(int, sys.stdin.readline().strip().split(" "))
        graph[u].append(v)
        graph[v].append(u)
    
    # ëª¨ë“  ë…¸ë“œë“¤ì„ íƒìƒ‰, ì•„ì§ ë°©ë¬¸ì—¬ë¶€ê°€ 0ì¸ ë…¸ë“œê°€ ìˆë‹¤ë©´ bipartite í•¨ìˆ˜ ì‹¤í–‰
    result = True
    for i in range(V): 
        if group[i] == 0:
            result = bipartite(graph, group, i)
            if result == False:
                break
    
    print("YES" if result else "NO")
```

