

# 1. Server & Client 개요

## 1) HTTP

- Web Server와 Client 통신 프로토콜

  💡 프로토콜(protocol) : 네트워크에 연결된 컴퓨터가 서로 통신하기 위한 규약



## 2) Wep Application Process

Client(Browser) - Web Server - Wep Application Server(=Web container =Servlet Engine) - Database 

- 웹서버 : 정적 컨텐츠 제공
- 웹 어플리케이션 서버 : 동적 컨텐츠 서비스 - Java, Python, ...
  - 기능 분리하여 서버 부하 방지
  - WAS는 외부와의 간접적인 연결 - 보안을 고려해야 하는 파일 및 리소스를 안전하게 보호
  - 다수의 웹서버와 여러대의 WAS 연결하여 수많은 요청을 분산해서 안정적으로 운영



## 



*이클립스에 탐캣 연동

new - Server - 탐캣 선택

실행시 포트에러 뜨면 server.xml  파일 열어서 포트번호 수정

window - web browser - chrome 선택



## 3) Servelet

- 확장자 : *.java

  - 자바 코드로 개발
  - 문자열로 html 태그 생성 가능 = 브라우저에 출력까지 가능

- HttpServlet 클래스 상속 - http 프로토콜을 지원해주는 클래스

  - 클래스 상속 및 재정의로만 쉽게 개발 가능

  - 서비스 로직에만 집중해서 개발 가능

- html / css / javascript는 순수 자바 클래스와 소통 불가 - 따라서 웹 요청/응답 처리는 servlet 또는 JSP로 개발해야함

- 메소드 재정의
  - get 방식
  - post 방식



- HttpServletRequest

  - http 프로토콜 기반으로 요청하는 클라이언트의 정보를 보유 - ip, 브라우저 기본정보, 클라이언트가 서버에 전송하는 입력 데이터 등등..
  - doGet() / doPost() 실행시 파라미터로 쓰임

- HttpServletResponse

  - http 프로토콜 기반으로 클라이언트 브라우저에게 응답하는 객체

  - 한글 등 속성 지정해서 응답 포맷 설정

    



이클립스 개발구조

- src
  - *.java
  - 순수 DAO, DTO 등등.. 일반 모든 자바 소스
  - web상에서 http 기반으로 요청/응답 직접 처리하는 Servlet
- WebContent
  - *.html / *.css / *.js / 이미지, 동영상 ... / *.jsp





서블릿 파일 실행

생성자는 하나만 만들어지고, 메소드만 계속 실행됨 : 스레드

서블릿 객체 수 : 요청한 클라이언트 수 = 1 : N

deGet() 메소드 수 : 요청한 클라이언트 수 = 1 : 1

HttpServletRequest 객체 수 : HttpServletResponse 객체 수 : 클라이언트 수 = 1 : 1 : 1

=> 하나의 프로세스 내에 여러 쓰레드로 개별 실행



Web container (web server = servlet engine) 의 기능

- 클라이언트 요청시 클라이언트에 1:1 매핑되는 HttpServletRequest 객체와 HttpServletResponse 객체 자동 생성
- Servlet 객체는 최초의 클라이언트 요청시에만 단 한번 생성



### Servlet 라이프사이클

1. 기본생성자
   - 최초 클라이언트가 호출시 실행되서 객체 생성
   - 새로운 로직의 갱신된 객체 생성시 단 한번 생성 (갱신직후 최초 클라이언트가 요청시 단 한번 실행)
2. init()
   - 생성자 호출 직후에 단 한번 실행
   - 공유하는 자원 초기화 로직으로 적합
3. deGet() / doPost()
   - 클라이언트 요청시 1:1 실행
   - 서비스 
4. destroy()
   - 갱신된 servlet bytecode가 서버 메모리에 로딩시 자동 호출
   - 구버전 객체 메모리 해제시에 자동 실행
   - 자원 반환용 로직 구현시 적합





메소드

