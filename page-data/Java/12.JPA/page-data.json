{"componentChunkName":"component---src-templates-blog-post-js","path":"/Java/12.JPA/","result":{"data":{"site":{"siteMetadata":{"title":"Hyem.log","author":"[hyem]","siteUrl":"https://hyemin-jang.github.io","comment":{"disqusShortName":"","utterances":"hyemin-jang/hyemin-jang.github.io"},"sponsor":{"buyMeACoffeeId":"jbee"}}},"markdownRemark":{"id":"a2732495-d972-589d-b2b5-6f45871b9aaa","excerpt":"1. JPA : Java Persistence API ìë°” ì§„ì˜ì˜  ê¸°ìˆ  í‘œì¤€. ìë°” ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì„ ì •ì˜í•œ ì´ë‹¤. ğŸ’¡ ORM(Object Relational Mapping) SQLì„ ì§ì ‘ ë‹¤ë£¨ì§€ ì•Šê³ , ê°ì²´ì™€ í…Œì´ë¸”ì„ ë§¤í•‘í•˜ì—¬ ê°„ì ‘ì ìœ¼ë¡œ DBë°ì´í„° ê´€ë¦¬ ê°ì²´ ê°„ ê´€ê³„ë¥¼ ë°”íƒ•ìœ¼ë¡œ SQL ë¬¸ì¥ ìë™ ìƒì„± SQLì´ ì•„ë‹Œ ë©”ì†Œë“œë¡œ ë°ì´í„° ì¡°ì‘ ğŸŒˆ ìë°” DBì—°ë™ ê¸°ìˆ ì˜ ë³€ì²œì‚¬ EJBì˜ Entityâ€¦","html":"<h1 id=\"1-jpa\" style=\"position:relative;\"><a href=\"#1-jpa\" aria-label=\"1 jpa permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. JPA</h1>\n<p>: <strong>Java Persistence API</strong></p>\n<p>ìë°” ì§„ì˜ì˜ <code class=\"language-text\">ORM</code> ê¸°ìˆ  í‘œì¤€. ìë°” ì–´í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì„ ì •ì˜í•œ <code class=\"language-text\">ì¸í„°í˜ì´ìŠ¤</code>ì´ë‹¤.</p>\n<blockquote>\n<p>ğŸ’¡ <strong>ORM</strong>(Object Relational Mapping)</p>\n<ul>\n<li>SQLì„ ì§ì ‘ ë‹¤ë£¨ì§€ ì•Šê³ , <strong>ê°ì²´ì™€ í…Œì´ë¸”ì„ ë§¤í•‘</strong>í•˜ì—¬ ê°„ì ‘ì ìœ¼ë¡œ DBë°ì´í„° ê´€ë¦¬</li>\n<li>ê°ì²´ ê°„ ê´€ê³„ë¥¼ ë°”íƒ•ìœ¼ë¡œ SQL ë¬¸ì¥ ìë™ ìƒì„±</li>\n<li>SQLì´ ì•„ë‹Œ ë©”ì†Œë“œë¡œ ë°ì´í„° ì¡°ì‘</li>\n</ul>\n</blockquote>\n<h3 id=\"-ìë°”-dbì—°ë™-ê¸°ìˆ ì˜-ë³€ì²œì‚¬\" style=\"position:relative;\"><a href=\"#-%EC%9E%90%EB%B0%94-db%EC%97%B0%EB%8F%99-%EA%B8%B0%EC%88%A0%EC%9D%98-%EB%B3%80%EC%B2%9C%EC%82%AC\" aria-label=\" ìë°” dbì—°ë™ ê¸°ìˆ ì˜ ë³€ì²œì‚¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒˆ ìë°” DBì—°ë™ ê¸°ìˆ ì˜ ë³€ì²œì‚¬</h3>\n<ol>\n<li>EJBì˜ Entityë¹ˆ : êµ¬í˜„ ë° ë°°í¬ ì–´ë ¤ì›€ ë“±ì˜ ì—¬ëŸ¬ê°€ì§€ ì´ìŠˆ ìˆì—ˆìŒ</li>\n<li>Hibernate : ìë°” í‘œì¤€ì€ ì•„ë‹ˆì§€ë§Œ ê°€ì¥ ë§ì€ ê°œë°œìë“¤ì´ ì‚¬ìš©í•˜ëŠ” ORM ê¸°ìˆ </li>\n<li>JPA : í•˜ì´ë²„ë„¤ì´íŠ¸ ê°œë°œìë“¤ì´ ë§Œë“  ìë°” í‘œì¤€ ORM ê¸°ìˆ </li>\n</ol>\n<h2 id=\"1-jpa-ì‹¤í–‰-êµ¬ì¡°\" style=\"position:relative;\"><a href=\"#1-jpa-%EC%8B%A4%ED%96%89-%EA%B5%AC%EC%A1%B0\" aria-label=\"1 jpa ì‹¤í–‰ êµ¬ì¡° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) JPA ì‹¤í–‰ êµ¬ì¡°</h2>\n<p>ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ JDBC ì‚¬ì´ì—ì„œ ë™ì‘.</p>\n<p>ê°œë°œìê°€ JPAë¥¼ ì‚¬ìš©í•˜ë©´ JPA ë‚´ë¶€ì—ì„œ JDBC APIë¥¼ ì‚¬ìš©í•˜ì—¬ SQLì„ í˜¸ì¶œ, DBì™€ í†µì‹ í•œë‹¤.</p>\n<p><img src=\"C:%5CUsers%5Chmjan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210821122034216.png\" alt=\"image-20210821122034216\"></p>\n<h2 id=\"2-jpaë¥¼-ì‚¬ìš©í•˜ëŠ”-ì´ìœ \" style=\"position:relative;\"><a href=\"#2-jpa%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\" aria-label=\"2 jpaë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) JPAë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ </h2>\n<h3 id=\"1-ìƒì‚°ì„±-ì¦ê°€-ë°-ìœ ì§€ë³´ìˆ˜ì˜-ìš©ì´\" style=\"position:relative;\"><a href=\"#1-%EC%83%9D%EC%82%B0%EC%84%B1-%EC%A6%9D%EA%B0%80-%EB%B0%8F-%EC%9C%A0%EC%A7%80%EB%B3%B4%EC%88%98%EC%9D%98-%EC%9A%A9%EC%9D%B4\" aria-label=\"1 ìƒì‚°ì„± ì¦ê°€ ë° ìœ ì§€ë³´ìˆ˜ì˜ ìš©ì´ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) ìƒì‚°ì„± ì¦ê°€ ë° ìœ ì§€ë³´ìˆ˜ì˜ ìš©ì´</h3>\n<ul>\n<li>ê°„ë‹¨í•œ ë©”ì†Œë“œë¡œ CRUDê°€ ê°€ëŠ¥í•˜ë‹¤.</li>\n<li>í•„ë“œ ë³€ê²½ì‹œ ì§ì ‘ ëª¨ë“  SQLì„ ìˆ˜ì •í•´ì•¼ í•  í•„ìš” ì—†ì´ JPAê°€ ì•Œì•„ì„œ ì²˜ë¦¬í•´ì¤€ë‹¤.</li>\n</ul>\n<h3 id=\"2-ë°ì´í„°-ì ‘ê·¼-ì¶”ìƒí™”-ë²¤ë”-ë…ë¦½ì -ê°œë°œ\" style=\"position:relative;\"><a href=\"#2-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%91%EA%B7%BC-%EC%B6%94%EC%83%81%ED%99%94-%EB%B2%A4%EB%8D%94-%EB%8F%85%EB%A6%BD%EC%A0%81-%EA%B0%9C%EB%B0%9C\" aria-label=\"2 ë°ì´í„° ì ‘ê·¼ ì¶”ìƒí™” ë²¤ë” ë…ë¦½ì  ê°œë°œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) ë°ì´í„° ì ‘ê·¼ ì¶”ìƒí™”, ë²¤ë” ë…ë¦½ì  ê°œë°œ</h3>\n<p><img src=\"C:%5CUsers%5Chmjan%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210821122241424.png\" alt=\"image-20210821122241424\"></p>\n<ul>\n<li>Objectì™€ RDBê°„ì˜ íŒ¨ëŸ¬ë‹¤ì„ ë¶ˆì¼ì¹˜ í•´ê²°</li>\n</ul>\n<h2 id=\"3-jpaì˜-ì„±ëŠ¥-ìµœì í™”-ê¸°ëŠ¥\" style=\"position:relative;\"><a href=\"#3-jpa%EC%9D%98-%EC%84%B1%EB%8A%A5-%EC%B5%9C%EC%A0%81%ED%99%94-%EA%B8%B0%EB%8A%A5\" aria-label=\"3 jpaì˜ ì„±ëŠ¥ ìµœì í™” ê¸°ëŠ¥ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3) JPAì˜ ì„±ëŠ¥ ìµœì í™” ê¸°ëŠ¥</h2>\n<h3 id=\"1-1ì°¨-ìºì‹œì™€-ë™ì¼ì„±identity-ë³´ì¥\" style=\"position:relative;\"><a href=\"#1-1%EC%B0%A8-%EC%BA%90%EC%8B%9C%EC%99%80-%EB%8F%99%EC%9D%BC%EC%84%B1identity-%EB%B3%B4%EC%9E%A5\" aria-label=\"1 1ì°¨ ìºì‹œì™€ ë™ì¼ì„±identity ë³´ì¥ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1) 1ì°¨ ìºì‹œì™€ ë™ì¼ì„±(identity) ë³´ì¥</h3>\n<ul>\n<li>ê°™ì€ íŠ¸ëœì­ì…˜ ë‚´ì—ì„œëŠ” ê°™ì€ Entityë¥¼ ë°˜í™˜ - ì¡°íšŒ ì„±ëŠ¥ (ì•½ê°„) í–¥ìƒ</li>\n</ul>\n<blockquote>\n<p>ğŸ’¡ <strong>ìºì‹œ (Cache)</strong></p>\n<ul>\n<li>ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ë³µì‚¬í•´ ë†“ëŠ” ì„ì‹œ ì €ì¥ì†Œ</li>\n<li>ê¸°ì¡´ ë°ì´í„°ì— ì ‘ê·¼í•˜ëŠ” ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê²½ìš° / ê°’ì„ ë‹¤ì‹œ ê³„ì‚°í•˜ëŠ” ì‹œê°„ì„ ì ˆì•½í•˜ê³  ì‹¶ì€ ê²½ìš° ì‚¬ìš©</li>\n<li>ìºì‹œì— ë°ì´í„°ë¥¼ ë¯¸ë¦¬ ë³µì‚¬í•´ ë†“ìœ¼ë©´ ì ‘ê·¼ í˜¹ì€ ê³„ì‚° ì—†ì´ ë” ë¹ ë¥¸ ì†ë„ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ</li>\n</ul>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\">selectë¬¸ì¥ ì‹¤í–‰ ì•ˆí•˜ëŠ”ê²½ìš°</code></pre></div>\n<h3 id=\"2-íŠ¸ëœì­ì…˜ì„-ì§€ì›í•˜ëŠ”-ì“°ê¸°-ì§€ì›-transactional-write-behind\" style=\"position:relative;\"><a href=\"#2-%ED%8A%B8%EB%9E%9C%EC%9E%AD%EC%85%98%EC%9D%84-%EC%A7%80%EC%9B%90%ED%95%98%EB%8A%94-%EC%93%B0%EA%B8%B0-%EC%A7%80%EC%9B%90-transactional-write-behind\" aria-label=\"2 íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ì“°ê¸° ì§€ì› transactional write behind permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) íŠ¸ëœì­ì…˜ì„ ì§€ì›í•˜ëŠ” ì“°ê¸° ì§€ì› (transactional write-behind)</h3>\n<ul>\n<li>Update, Deleteë¡œ ì¸í•œ ë¡œìš°(Row) ë½ ì‹œê°„ ìµœì†Œí™”</li>\n<li>ì§€ì—° ë¡œë”© ???????? ë­”ì†Œë¦¬ì•¼</li>\n</ul>\n<p><br></br></p>\n<hr>\n<h1 id=\"2-jpa-application-ê°œë°œ\" style=\"position:relative;\"><a href=\"#2-jpa-application-%EA%B0%9C%EB%B0%9C\" aria-label=\"2 jpa application ê°œë°œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. JPA Application ê°œë°œ</h1>\n<h2 id=\"1-ê°œë°œ-í™˜ê²½-êµ¬ì¶•\" style=\"position:relative;\"><a href=\"#1-%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%B6%95\" aria-label=\"1 ê°œë°œ í™˜ê²½ êµ¬ì¶• permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) ê°œë°œ í™˜ê²½ êµ¬ì¶•</h2>\n<ol>\n<li>JPA í”„ë¡œì íŠ¸ë¡œ ë³€í™˜</li>\n<li>Maven í”„ë¡œì íŠ¸ë¡œ ë³€í™˜ - </li>\n</ol>\n<h3 id=\"-jpa-ì„¤ì •íŒŒì¼-persistencexml-ì´í•´í•˜ê¸°\" style=\"position:relative;\"><a href=\"#-jpa-%EC%84%A4%EC%A0%95%ED%8C%8C%EC%9D%BC-persistencexml-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0\" aria-label=\" jpa ì„¤ì •íŒŒì¼ persistencexml ì´í•´í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ’ JPA ì„¤ì •íŒŒì¼ (persistence.xml) ì´í•´í•˜ê¸°</h3>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre class=\"language-xml\"><code class=\"language-xml\"><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>persistence</span> <span class=\"token attr-name\">version</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>2.1<span class=\"token punctuation\">\"</span></span> \n             <span class=\"token attr-name\">xmlns</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://xmlns.jcp.org/xml/ns/persistence<span class=\"token punctuation\">\"</span></span> \n             <span class=\"token attr-name\"><span class=\"token namespace\">xmlns:</span>xsi</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://www.w3.org/2001/XMLSchema-instance<span class=\"token punctuation\">\"</span></span> \n             <span class=\"token attr-name\"><span class=\"token namespace\">xsi:</span>schemaLocation</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n\t\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>persistence-unit</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>oracleDB<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\t\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>class</span><span class=\"token punctuation\">></span></span>model.entity.Customer<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>class</span><span class=\"token punctuation\">></span></span>\n\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>properties</span><span class=\"token punctuation\">></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>javax.persistence.jdbc.driver<span class=\"token punctuation\">\"</span></span> \n                      <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>oracle.jdbc.OracleDriver<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>javax.persistence.jdbc.url<span class=\"token punctuation\">\"</span></span> \n                      <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>jdbc:oracle:thin:@127.0.0.1:1521:xe<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>javax.persistence.jdbc.user<span class=\"token punctuation\">\"</span></span> \n                      <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>SCOTT<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>javax.persistence.jdbc.password<span class=\"token punctuation\">\"</span></span> \n                      <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>TIGER<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n\n            <span class=\"token comment\">&lt;!-- ë°©ì–¸ì²˜ë¦¬ê¸° --></span>\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hibernate.dialect<span class=\"token punctuation\">\"</span></span> \n                      <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>org.hibernate.dialect.OracleDialect<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n\n            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hibernate.hbm2ddl.auto<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>create<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>properties</span><span class=\"token punctuation\">></span></span>\n\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>persistence-unit</span><span class=\"token punctuation\">></span></span>\t\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>persistence</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<ul>\n<li>\n<p><code class=\"language-text\">&lt;persistence-unit&gt;</code> : JPAê°€ ì—°ë™í•  DataBaseì— ëŒ€í•œ ì •ë³´ ë³´ìœ  (ì—°ë™í•˜ê³ ì í•˜ëŠ” DBê°€ ì—¬ëŸ¬ê°œì¸ ê²½ìš° ì—¬ëŸ¬ê°œì˜ persistence-unit ì„¤ì •í•˜ë©´ ë¨)</p>\n<ul>\n<li>JDBC Driver ì¢…ë¥˜ / url / user /password ì •ë³´ ê°€ì§€ê³  ìˆìŒ</li>\n</ul>\n</li>\n<li><code class=\"language-text\">&lt;class&gt;model.entity.Customer&lt;/class&gt;</code> : Entity í´ë˜ìŠ¤ë¥¼ ë“±ë¡</li>\n<li>\n<p>ê° ì†ì„±(property)ì˜ ì˜ë¯¸</p>\n<ul>\n<li><code class=\"language-text\">&lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;</code> : ì½˜ì†”ì°½ì— ìƒì„±ëœ sqlë¬¸ ì¶œë ¥í•˜ê² ë‹¤</li>\n<li><code class=\"language-text\">&lt;property name=&quot;hibernate.id.new_generator_mappings&quot; value=&quot;true&quot; /&gt;</code> : </li>\n<li><code class=\"language-text\">&lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot; /&gt;</code> : DDL(í…Œì´ë¸” ìƒì„±, ì‚­ì œ, ë³€ê²½)ì„ ìë™ìœ¼ë¡œ ì‹¤í–‰í•˜ê² ë‹¤. (ì‹¤í–‰í•˜ì§€ ì•Šìœ¼ë ¤ëŠ” ê²½ìš° value=â€œnoneâ€)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"2-ì—°ê´€ê´€ê³„-ë§¤í•‘\" style=\"position:relative;\"><a href=\"#2-%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84-%EB%A7%A4%ED%95%91\" aria-label=\"2 ì—°ê´€ê´€ê³„ ë§¤í•‘ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) ì—°ê´€ê´€ê³„ ë§¤í•‘</h2>\n<p>: ê°ì²´ì˜ ì°¸ì¡° ê´€ê³„ì™€ í…Œì´ë¸”ì˜ ì™¸ë˜í‚¤ë¥¼ ë§¤í•‘í•˜ëŠ” ê²ƒì„ ì˜ë¯¸</p>\n<p>â€‹\tâš¡ Member ê°ì²´ê°€ Team ê°ì²´ë¥¼ ì°¸ì¡°í•˜ëŠ” ê²½ìš°</p>\n<p><img src=\"C:%5Cdevelopment%5Cgithubpage%5Cmy-blog%5Ccontent%5Cassets%5Cposting%20images%5Cimage-20210821133801987.png\" alt=\"image-20210821133801987\"></p>\n<ul>\n<li>JDBC : ì—°ê´€ ê´€ê³„ì´ ìˆëŠ” ìƒëŒ€ í…Œì´ë¸”ì˜ PKë¥¼ ë©¤ë²„ë³€ìˆ˜ë¡œ ê°€ì§„ë‹¤</li>\n<li>JPA : <strong>ì—”í‹°í‹° ê°ì²´ ìì²´ë¥¼ í†µì±„ë¡œ ì°¸ì¡°í•œë‹¤</strong></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token comment\">// JDBCì—ì„œì˜ ì„¤ê³„</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">long</span> memberId<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">long</span> teamId<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// JPAì—ì„œì˜ ì„¤ê³„</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">long</span> memberId<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Team</span> team<span class=\"token punctuation\">;</span>  <span class=\"token comment\">// ì—”í‹°í‹° ê°ì²´ë¥¼ ì°¸ì¡°</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"1--ë‹¤ì¤‘ì„±---í•´ë‹¹-ì—”í‹°í‹°ë¥¼-ì¤‘ì‹¬ìœ¼ë¡œ-ìƒëŒ€-ì—”í‹°í‹°ë¥¼-ë°”ë¼ë´¤ì„ë•Œ\" style=\"position:relative;\"><a href=\"#1--%EB%8B%A4%EC%A4%91%EC%84%B1---%ED%95%B4%EB%8B%B9-%EC%97%94%ED%8B%B0%ED%8B%B0%EB%A5%BC-%EC%A4%91%EC%8B%AC%EC%9C%BC%EB%A1%9C-%EC%83%81%EB%8C%80-%EC%97%94%ED%8B%B0%ED%8B%B0%EB%A5%BC-%EB%B0%94%EB%9D%BC%EB%B4%A4%EC%9D%84%EB%95%8C\" aria-label=\"1  ë‹¤ì¤‘ì„±   í•´ë‹¹ ì—”í‹°í‹°ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ìƒëŒ€ ì—”í‹°í‹°ë¥¼ ë°”ë¼ë´¤ì„ë•Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(1)  <strong>ë‹¤ì¤‘ì„±</strong> - í•´ë‹¹ ì—”í‹°í‹°ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ìƒëŒ€ ì—”í‹°í‹°ë¥¼ ë°”ë¼ë´¤ì„ë•Œ</h3>\n<ul>\n<li>OneToOne : ì¼ëŒ€ì¼ ê´€ê³„</li>\n<li>OneToMany : ì¼ëŒ€ë‹¤ ê´€ê³„</li>\n<li>ManyToOne : ë‹¤ëŒ€ì¼ ê´€ê³„</li>\n<li>ManyToMany : ë‹¤ëŒ€ë‹¤ ê´€ê³„</li>\n</ul>\n<p>DB ì„¤ê³„ìƒ <strong>â€˜ë‹¤â€™ì¸ ìª½ì´ ì™¸ë˜ í‚¤ë¥¼ ê°–ëŠ”ë‹¤</strong>. ğŸ˜Šë¬´.ì¡°.ê±´.</p>\n<h3 id=\"2-ë°©í–¥\" style=\"position:relative;\"><a href=\"#2-%EB%B0%A9%ED%96%A5\" aria-label=\"2 ë°©í–¥ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(2) ë°©í–¥</h3>\n<p>ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì€ ì™¸ë˜í‚¤ í•˜ë‚˜ë¡œ ì–‘ìª½ í…Œì´ë¸”ì„ ì¡°ì¸í•˜ë¯€ë¡œ ë‹¨ë°©í–¥ì´ë‹ˆ ì–‘ë°©í–¥ì´ë‹ˆ ë‚˜ëˆŒ í•„ìš”ê°€ ì—†ë‹¤.</p>\n<p>í•˜ì§€ë§Œ ê°ì²´ëŠ” ì°¸ì¡°ìš© í•„ë“œê°€ ìˆëŠ” ê°ì²´ë§Œ ë‹¤ë¥¸ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë¯€ë¡œ, JPAë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë² ì´ìŠ¤ì™€ íŒ¨ëŸ¬ë‹¤ì„ì„ ë§ì¶”ê¸° ìœ„í•´ì„œëŠ” ì—°ê´€ê´€ê³„ì˜ ë°©í–¥ì„ ì„ íƒí•´ì•¼ í•œë‹¤.</p>\n<ul>\n<li><strong>ë‹¨ë°©í–¥ ê´€ê³„</strong> : í•œìª½ì˜ ì—”í‹°í‹°ë§Œ ì°¸ì¡°ìš© í•„ë“œë¥¼ ê°–ê³  ë‹¤ë¥¸ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê³  ìˆëŠ” ê²ƒ</li>\n<li><strong>ì–‘ë°©í–¥ ê´€ê³„</strong> : ì–‘ìª½ ì—”í‹°í‹°ê°€ ê°ê° ì°¸ì¡°ìš© í•„ë“œë¥¼ ê°–ê³  ì„œë¡œ ì°¸ì¡°í•˜ê³  ìˆëŠ” ê²ƒ</li>\n</ul>\n<blockquote>\n<p>ğŸ¤·â€â™€ï¸ ì–´ë–»ê²Œ íŒë‹¨í•˜ë‚˜ìš”?</p>\n<ul>\n<li>ë‹¤ëŒ€ì¼ ë‹¨ë°©í–¥ ê´€ê³„ : member1.getTeam() ì²˜ëŸ¼ ë©¤ë²„ê°€ íŒ€ì„ ì°¸ì¡° ê°€ëŠ¥</li>\n<li>ì–‘ë°©í–¥ ê´€ê³„ : team1.getMember()ì²˜ëŸ¼ íŒ€ì´ ë©¤ë²„ë¥¼ ì°¸ì¡°ë„ ê°€ëŠ¥í•˜ê²Œ í•˜ë ¤ë©´ ì–‘ë°©í–¥ìœ¼ë¡œ ì„¤ì •í•˜ë©´ ë¨</li>\n</ul>\n<p>=> ì—­ë°©í–¥ìœ¼ë¡œ ê°ì²´ íƒìƒ‰ì´ ê¼­ í•„ìš”í• ë•Œ ì–‘ë°©í–¥ ê´€ê³„ë¥¼ ì„¤ì •í•˜ì</p>\n</blockquote>\n<h3 id=\"3-ì—°ê´€ê´€ê³„ì˜-ì£¼ì¸owner\" style=\"position:relative;\"><a href=\"#3-%EC%97%B0%EA%B4%80%EA%B4%80%EA%B3%84%EC%9D%98-%EC%A3%BC%EC%9D%B8owner\" aria-label=\"3 ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸owner permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>(3) ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸(Owner)</h3>\n<ul>\n<li>ë‘ ê°ì²´ê°€ ì–‘ë°©í–¥ ê´€ê³„ë¥¼ ê°€ì§ˆ ë•Œ, ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì„ ì§€ì •í•´ì•¼ í•œë‹¤.</li>\n<li>\n<p><strong>ì™¸ë˜í‚¤ë¥¼ ê°–ëŠ” í…Œì´ë¸”</strong>ì´ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì´ ëœë‹¤. ğŸ˜Šë¬´.ì¡°.ê±´.</p>\n<ul>\n<li>ì£¼ì¸ ìª½ì´ ì™¸ë˜í‚¤ë¥¼ ê´€ë¦¬(ë“±ë¡, ìˆ˜ì •, ì‚­ì œ)í•  ìˆ˜ ìˆê³ , ë‹¤ë¥¸ ìª½ì€ ì½ê¸°ë§Œ ê°€ëŠ¥í•˜ë‹¤.</li>\n</ul>\n</li>\n<li>ì£¼ì¸ì´ ì•„ë‹Œ ê°ì²´ ìª½ì—ì„œ <code class=\"language-text\">mappedBy</code> ì†ì„±ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Team</span><span class=\"token punctuation\">{</span>\t\n\t<span class=\"token annotation punctuation\">@Id</span>\t\n\t<span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">\"team_id\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> teamId<span class=\"token punctuation\">;</span>\n\n\t<span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>length<span class=\"token operator\">=</span><span class=\"token number\">20</span><span class=\"token punctuation\">,</span> name<span class=\"token operator\">=</span><span class=\"token string\">\"team_name\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> teamName<span class=\"token punctuation\">;</span>\n\t\n    <span class=\"token comment\">/* í•´ë‹¹ ì—”í‹°í‹°(Team)ê°€ ìƒëŒ€ ì—”í‹°í‹°(Member)ì˜ ì—¬ëŸ¬ ê°ì²´ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆìŒ \n     * `ì¼`ì¸ ìª½ì— @OneToManyë¥¼ ì¶”ê°€í•˜ì—¬ ì–‘ë°©í–¥ ê´€ê³„ ë§Œë“¬ \n     * \t- íŒ€ì—ì„œ ì—¬ëŸ¬ ë©¤ë²„ë“¤ì„ ì°¸ì¡° ê°€ëŠ¥í•˜ê²Œ ArrayList ë§Œë“¤ì–´ì¤€ë‹¤\n     * mappedBy ì‚¬ìš©í•˜ì—¬ ì—°ê´€ê´€ê³„ì˜ ì£¼ì¸ì„ ì„¤ì •í•´ì¤Œ \n     * \t- mappedByì˜ ê°’ì€ ëŒ€ìƒì´ ë˜ëŠ” ë³€ìˆ˜ëª…(Member í…Œì´ë¸”ì˜ teamId ë³€ìˆ˜)\n     */</span>\n\t<span class=\"token annotation punctuation\">@OneToMany</span><span class=\"token punctuation\">(</span>mappedBy<span class=\"token operator\">=</span><span class=\"token string\">\"teamId\"</span><span class=\"token punctuation\">)</span>       \n\t<span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> members <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\n\t\n\n<span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">\"member_id\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">long</span> memberId<span class=\"token punctuation\">;</span>\n    \n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>length<span class=\"token operator\">=</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span>\n    \n    <span class=\"token comment\">// JoinColumn : ì™¸ë˜í‚¤ë¥¼ ë§¤í•‘í•˜ëŠ” ì• ë…¸í…Œì´ì…˜. </span>\n    <span class=\"token comment\">// í•´ë‹¹ ì—”í‹°í‹°(Member)ì˜ ì—¬ëŸ¬ ê°ì²´ê°€ ìƒëŒ€ ì—”í‹°í‹°(Team)ì— ëŒ€ì‘ - ë‹¤ëŒ€ì¼ ê´€ê³„(@ManyToOne)</span>\n    <span class=\"token annotation punctuation\">@JoinColumn</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">=</span><span class=\"token string\">\"team_id\"</span><span class=\"token punctuation\">)</span>  \n    <span class=\"token annotation punctuation\">@ManyToOne</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Team</span> team<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"3-ê°œë°œ-proccess\" style=\"position:relative;\"><a href=\"#3-%EA%B0%9C%EB%B0%9C-proccess\" aria-label=\"3 ê°œë°œ proccess permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3) ê°œë°œ Proccess</h2>\n<ul>\n<li>EntityManagerFactory ìƒì„± </li>\n<li>EntityManager ìƒì„± </li>\n<li>EntityTransaction ìƒì„± ë° ì ìš© </li>\n<li>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§(CRUD) </li>\n<li>ìì›ë°˜í™˜</li>\n</ul>\n<h3 id=\"-jpa-ì£¼ìš”-api\" style=\"position:relative;\"><a href=\"#-jpa-%EC%A3%BC%EC%9A%94-api\" aria-label=\" jpa ì£¼ìš” api permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸˆ JPA ì£¼ìš” API</h3>\n<table>\n<thead>\n<tr>\n<th>API</th>\n<th>ì—­í• </th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Persistence</td>\n<td>EntityManagerFactory ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì–»ê¸° ìœ„í•œ ë©”ì†Œë“œë¥¼ ê°€ì§ = <code class=\"language-text\">createEntityManagerFactory()</code></td>\n</tr>\n<tr>\n<td>EntityManagerFactory</td>\n<td>ì—¬ëŸ¬ EntityManager ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‘ì„±í•˜ê³  ê´€ë¦¬</td>\n</tr>\n<tr>\n<td>EntityManager</td>\n<td>ê°ì²´ì˜ ì§€ì†ì„± ì‘ì—…ì„ ê´€ë¦¬. CRUD ìˆ˜í–‰.</td>\n</tr>\n<tr>\n<td>EntityTransaction</td>\n<td>EntityManagerì™€ 1:1 ê´€ê³„. ê° EntityManagerì˜ ì‘ì—…ì€ EntityTransaction í´ë˜ìŠ¤ì— ì˜í•´ ìœ ì§€ ê´€ë¦¬.</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"-entitymanager-ì˜-crud-ìˆ˜í–‰-ë©”ì†Œë“œ\" style=\"position:relative;\"><a href=\"#-entitymanager-%EC%9D%98-crud-%EC%88%98%ED%96%89-%EB%A9%94%EC%86%8C%EB%93%9C\" aria-label=\" entitymanager ì˜ crud ìˆ˜í–‰ ë©”ì†Œë“œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸˆ EntityManager ì˜ CRUD ìˆ˜í–‰ ë©”ì†Œë“œ</h3>\n<table>\n<thead>\n<tr>\n<th>ë©”ì†Œë“œ</th>\n<th>ê¸°ëŠ¥</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>persist(Object entity)</td>\n<td>entityë¥¼ ì˜ì†í™” (INSERT)</td>\n</tr>\n<tr>\n<td>merge(Object entity)</td>\n<td>ì¤€ì˜ì† ìƒíƒœì˜ entityë¥¼ ì˜ì†í™” (UPDATE)</td>\n</tr>\n<tr>\n<td>remove(Object entity)</td>\n<td>ì˜ì† ìƒíƒœì˜ entityë¥¼ ì œê±° (DELETE)</td>\n</tr>\n<tr>\n<td>find(Class entity, Object pk)</td>\n<td>í•˜ë‚˜ì˜ entity ê²€ìƒ‰ (SELECT one)</td>\n</tr>\n<tr>\n<td>createQuery(String jpql, Class resultClass)</td>\n<td>JPQLì— í•´ë‹¹í•˜ëŠ” entity ëª©ë¡ ê²€ìƒ‰ (SELECT list)</td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RunningTest</span> <span class=\"token punctuation\">{</span>\n\t\n\t<span class=\"token keyword\">void</span> <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token class-name\">EntityManagerFactory</span> emf <span class=\"token operator\">=</span> <span class=\"token class-name\">Persistence</span><span class=\"token punctuation\">.</span><span class=\"token function\">createEntityManagerFactory</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"oracleDB\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">EntityManager</span> em <span class=\"token operator\">=</span> emf<span class=\"token punctuation\">.</span><span class=\"token function\">createEntityManager</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token class-name\">EntityTransaction</span> tx <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">getTransaction</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\n        tx<span class=\"token punctuation\">.</span><span class=\"token function\">begin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ì—”í‹°í‹° í´ë˜ìŠ¤ì˜ setter ë©”ì†Œë“œ - tx.commit() ì‹œì— UPDATEë¬¸ ìˆ˜í–‰ </span>\n            <span class=\"token class-name\">Team</span> t1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Team</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            t1<span class=\"token punctuation\">.</span><span class=\"token function\">setTeamName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ìš°ë¦¬íŒ€\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token class-name\">Member</span> m1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            m1<span class=\"token punctuation\">.</span><span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ì¥ë³´ë¦¬\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            m1<span class=\"token punctuation\">.</span><span class=\"token function\">setTeamId</span><span class=\"token punctuation\">(</span>t1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token class-name\">Member</span> m2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            m2<span class=\"token punctuation\">.</span><span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ì„œë¦¬íƒœ\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            m2<span class=\"token punctuation\">.</span><span class=\"token function\">setTeamId</span><span class=\"token punctuation\">(</span>t1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            t1<span class=\"token punctuation\">.</span><span class=\"token function\">getMembers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>m1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            t1<span class=\"token punctuation\">.</span><span class=\"token function\">getMembers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>m2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            t1<span class=\"token punctuation\">.</span><span class=\"token function\">getMembers</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>m3<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n            <span class=\"token comment\">// INSERT</span>\n            em<span class=\"token punctuation\">.</span><span class=\"token function\">persist</span><span class=\"token punctuation\">(</span>t1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            em<span class=\"token punctuation\">.</span><span class=\"token function\">persist</span><span class=\"token punctuation\">(</span>m1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\t\t\n            em<span class=\"token punctuation\">.</span><span class=\"token function\">persist</span><span class=\"token punctuation\">(</span>m2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n           \n            <span class=\"token comment\">// SELECT one</span>\n            <span class=\"token class-name\">Member</span> oneMember <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">find</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1L</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// pkê°’(1L)ìœ¼ë¡œ ì¡°íšŒ</span>\n            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ì¡°íšŒí•œ ë©¤ë²„ : \"</span> <span class=\"token operator\">+</span> oneMember<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            \n            <span class=\"token comment\">// SELECT list</span>\n            <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Member</span><span class=\"token punctuation\">></span></span> allMember <span class=\"token operator\">=</span> em<span class=\"token punctuation\">.</span><span class=\"token function\">createQuery</span><span class=\"token punctuation\">(</span>\n                <span class=\"token string\">\"select m from Member m\"</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Member</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getResultList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"ë©¤ë²„ ìˆ˜ : \"</span> <span class=\"token operator\">+</span> allMember<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t\t    <span class=\"token comment\">// DELETE</span>\n            em<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  <span class=\"token comment\">// ê°ì²´ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì„œ pkê°’ì„ í†µí•´ í•´ë‹¹ ë°ì´í„° ì‚­ì œ</span>\n\n            tx<span class=\"token punctuation\">.</span><span class=\"token function\">commit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            \n        <span class=\"token punctuation\">}</span><span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// ì—ëŸ¬ ë°œìƒì‹œ CRUD ê²°ê³¼ ì €ì¥í•˜ì§€ ì•Šê³  rollback</span>\n\t\t\ttx<span class=\"token punctuation\">.</span><span class=\"token function\">rollback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>  \n\t\t\te<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// ìì›ë°˜í™˜</span>\n\t\t\tem<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t\temf<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>[ì°¸ê³ í•œ ì‚¬ì´íŠ¸]</p>\n<p><a href=\"https://jeong-pro.tistory.com/231\">https://jeong-pro.tistory.com/231</a></p>","frontmatter":{"title":"[Java] 12. JPA","date":"August 21, 2021"}}},"pageContext":{"slug":"/Java/12.JPA/","previous":{"fields":{"slug":"/Java/11.JDBC/"},"frontmatter":{"title":"[Java] 11. JDBC"}},"next":null}}}